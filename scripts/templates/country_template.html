<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ country }} - {{ framework }} | OpenPIIMap</title>
    <meta name="description" content="Privacy law definitions for {{ country }} under {{ framework }} framework.">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../assets/css/main.css" rel="stylesheet">
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    {{ header|safe }}

    <!-- Country Header Section -->
    <section class="py-4" style="background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-light) 100%); color: white;">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-3" style="--bs-breadcrumb-divider-color: rgba(255,255,255,0.6);">
                    <li class="breadcrumb-item"><a href="../index.html" class="text-white-50">Home</a></li>
                    <li class="breadcrumb-item"><a href="../index.html#countries" class="text-white-50">Countries</a></li>
                    <li class="breadcrumb-item active text-white" aria-current="page">{{ country }}</li>
                </ol>
            </nav>
            
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1 class="display-5 fw-bold mb-2">{{ country }}</h1>
                    <div class="d-flex align-items-center flex-wrap gap-3">
                        <span class="framework-badge framework-{{ framework.lower().replace(' ', '-') }} fs-6">
                            {{ framework }}
                        </span>
                        {% if region %}
                        <span class="text-white-50">
                            <i class="bi bi-geo-alt-fill me-1"></i>{{ region }}
                        </span>
                        {% endif %}
                        {% if categories %}
                        <span class="text-white-50">
                            <i class="bi bi-list-check me-1"></i>{{ categories|length }} PII Categories
                        </span>
                        {% endif %}
                    </div>
                </div>
                <div class="col-md-4 text-md-end">
                    <div class="d-flex gap-2 justify-content-md-end flex-wrap">
                        <button class="btn btn-light btn-sm" onclick="copyPageUrl()">
                            <i class="bi bi-share me-1"></i>Share
                        </button>
                        <button class="btn btn-outline-light btn-sm" onclick="downloadJSON()">
                            <i class="bi bi-download me-1"></i>Download JSON
                        </button>
                        <a href="../compare.html?countries={{ country|urlencode }}" class="btn btn-outline-light btn-sm">
                            <i class="bi bi-arrow-left-right me-1"></i>Compare
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container my-5">
        <!-- Tab Navigation -->
        <ul class="nav nav-tabs mb-4" id="countryTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button" role="tab">
                    <i class="bi bi-info-circle me-1"></i>Overview
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="categories-tab" data-bs-toggle="tab" data-bs-target="#categories" type="button" role="tab">
                    <i class="bi bi-list-ul me-1"></i>PII Categories ({{ categories|length }})
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="legal-tab" data-bs-toggle="tab" data-bs-target="#legal" type="button" role="tab">
                    <i class="bi bi-book me-1"></i>Legal References
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="technical-tab" data-bs-toggle="tab" data-bs-target="#technical" type="button" role="tab">
                    <i class="bi bi-code-slash me-1"></i>Technical Data
                </button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="countryTabsContent">
            <!-- Overview Tab -->
            <div class="tab-pane fade show active" id="overview" role="tabpanel">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">
                                    <i class="bi bi-info-circle me-2"></i>Framework Information
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <dl class="row">
                                            <dt class="col-sm-5">Country:</dt>
                                            <dd class="col-sm-7">{{ country }}</dd>
                                            
                                            <dt class="col-sm-5">Framework:</dt>
                                            <dd class="col-sm-7">
                                                <span class="framework-badge framework-{{ framework.lower().replace(' ', '-') }}">
                                                    {{ framework }}
                                                </span>
                                            </dd>
                                            
                                            {% if region %}
                                            <dt class="col-sm-5">Region:</dt>
                                            <dd class="col-sm-7">{{ region }}</dd>
                                            {% endif %}
                                            
                                            {% if language %}
                                            <dt class="col-sm-5">Language:</dt>
                                            <dd class="col-sm-7">{{ language }}</dd>
                                            {% endif %}
                                        </dl>
                                    </div>
                                    <div class="col-md-6">
                                        <dl class="row">
                                            {% if version %}
                                            <dt class="col-sm-5">Version:</dt>
                                            <dd class="col-sm-7">{{ version }}</dd>
                                            {% endif %}
                                            
                                            {% if status %}
                                            <dt class="col-sm-5">Status:</dt>
                                            <dd class="col-sm-7">
                                                <span class="badge bg-success">{{ status|title }}</span>
                                            </dd>
                                            {% endif %}
                                            
                                            {% if last_updated %}
                                            <dt class="col-sm-5">Last Updated:</dt>
                                            <dd class="col-sm-7">{{ last_updated }}</dd>
                                            {% endif %}
                                            
                                            {% if source_verified %}
                                            <dt class="col-sm-5">Source Verified:</dt>
                                            <dd class="col-sm-7">
                                                <i class="bi bi-check-circle-fill text-success"></i> Yes
                                            </dd>
                                            {% endif %}
                                        </dl>
                                    </div>
                                </div>
                                
                                {% if authority %}
                                <hr>
                                <h6>Regulatory Authority:</h6>
                                <p class="text-muted">{{ authority }}</p>
                                {% endif %}
                                
                                {% if notes %}
                                <hr>
                                <h6>Notes:</h6>
                                <ul class="list-unstyled">
                                    {% for note in notes %}
                                    <li class="text-muted mb-2">
                                        <i class="bi bi-info-circle me-2"></i>{{ note }}
                                    </li>
                                    {% endfor %}
                                </ul>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <!-- Quick Stats -->
                        <div class="card mb-4">
                            <div class="card-header">
                                <h6 class="card-title mb-0">Quick Statistics</h6>
                            </div>
                            <div class="card-body">
                                <div class="row text-center">
                                    <div class="col-6">
                                        <div class="stat-number text-primary" style="font-size: 2rem;">{{ categories|length }}</div>
                                        <div class="stat-label small">PII Categories</div>
                                    </div>
                                    <div class="col-6">
                                        <div class="stat-number text-primary" style="font-size: 2rem;">
                                            {% set citation_count = 0 %}
                                            {% for cat in categories %}
                                                {% if cat.citations %}
                                                    {% set citation_count = citation_count + cat.citations|length %}
                                                {% endif %}
                                            {% endfor %}
                                            {{ citation_count }}
                                        </div>
                                        <div class="stat-label small">Legal Citations</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Category Types Distribution -->
                        <div class="card">
                            <div class="card-header">
                                <h6 class="card-title mb-0">Category Types</h6>
                            </div>
                            <div class="card-body">
                                {% set category_types = {} %}
                                {% for cat in categories %}
                                    {% if cat.type in category_types %}
                                        {% set _ = category_types.update({cat.type: category_types[cat.type] + 1}) %}
                                    {% else %}
                                        {% set _ = category_types.update({cat.type: 1}) %}
                                    {% endif %}
                                {% endfor %}
                                
                                {% for type, count in category_types.items() %}
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="small">{{ type|replace('_', ' ')|title }}</span>
                                    <span class="badge bg-secondary">{{ count }}</span>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Categories Tab -->
            <div class="tab-pane fade" id="categories" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h4>PII Categories ({{ categories|length }})</h4>
                            <div class="btn-group" role="group">
                                <input type="radio" class="btn-check" name="categoryView" id="categoryCards" checked>
                                <label class="btn btn-outline-primary btn-sm" for="categoryCards">
                                    <i class="bi bi-grid-3x3-gap-fill"></i> Cards
                                </label>
                                <input type="radio" class="btn-check" name="categoryView" id="categoryTable">
                                <label class="btn btn-outline-primary btn-sm" for="categoryTable">
                                    <i class="bi bi-list-ul"></i> Table
                                </label>
                            </div>
                        </div>
                        
                        <!-- Category Filter -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <input type="text" id="categorySearch" class="form-control" placeholder="Search categories...">
                            </div>
                            <div class="col-md-3">
                                <select id="typeFilter" class="form-select">
                                    <option value="">All Types</option>
                                    {% for type in category_types.keys() %}
                                    <option value="{{ type }}">{{ type|replace('_', ' ')|title }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-3">
                                <select id="maskingFilter" class="form-select">
                                    <option value="">All Masking Requirements</option>
                                    <option value="true">Required Masking</option>
                                    <option value="false">Optional Masking</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Categories Display -->
                        <div id="categoriesDisplay">
                            <!-- Card View -->
                            <div id="cardView" class="row g-4">
                                {% for cat in categories %}
                                <div class="col-lg-6 category-item" data-type="{{ cat.type }}" data-masking="{{ cat.required_masking|string|lower }}">
                                    <div class="card h-100">
                                        <div class="card-header d-flex justify-content-between align-items-start">
                                            <h6 class="card-title mb-0">{{ cat.name }}</h6>
                                            <div>
                                                <span class="badge bg-primary">{{ cat.type|replace('_', ' ')|title }}</span>
                                                {% if cat.required_masking %}
                                                <span class="badge bg-warning">Masking Required</span>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            {% if cat.subtype %}
                                            <p class="text-muted small mb-2">
                                                <strong>Subtype:</strong> {{ cat.subtype|replace('_', ' ')|title }}
                                            </p>
                                            {% endif %}
                                            
                                            {% if cat.tags %}
                                            <div class="mb-2">
                                                {% for tag in cat.tags %}
                                                <span class="badge bg-light text-dark me-1">{{ tag }}</span>
                                                {% endfor %}
                                            </div>
                                            {% endif %}
                                            
                                            {% if cat.citations %}
                                            <div class="mt-3">
                                                <small class="text-muted d-block mb-1">Legal Citations:</small>
                                                {% for citation in cat.citations %}
                                                <div class="small mb-1">
                                                    <strong>{{ citation.regulation }}</strong> Article {{ citation.article }}
                                                    {% if citation.description %}
                                                    <br><span class="text-muted">{{ citation.description }}</span>
                                                    {% endif %}
                                                </div>
                                                {% endfor %}
                                            </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                            
                            <!-- Table View -->
                            <div id="tableView" style="display: none;">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead class="table-light">
                                            <tr>
                                                <th>Category Name</th>
                                                <th>Type</th>
                                                <th>Subtype</th>
                                                <th>Masking Required</th>
                                                <th>Citations</th>
                                                <th>Tags</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for cat in categories %}
                                            <tr class="category-item" data-type="{{ cat.type }}" data-masking="{{ cat.required_masking|string|lower }}">
                                                <td class="fw-semibold">{{ cat.name }}</td>
                                                <td>
                                                    <span class="badge bg-primary">{{ cat.type|replace('_', ' ')|title }}</span>
                                                </td>
                                                <td>{{ cat.subtype|replace('_', ' ')|title if cat.subtype else '-' }}</td>
                                                <td>
                                                    {% if cat.required_masking %}
                                                    <i class="bi bi-check-circle-fill text-success"></i> Yes
                                                    {% else %}
                                                    <i class="bi bi-x-circle-fill text-muted"></i> No
                                                    {% endif %}
                                                </td>
                                                <td>
                                                    {% if cat.citations %}
                                                    <span class="badge bg-secondary">{{ cat.citations|length }}</span>
                                                    {% else %}
                                                    -
                                                    {% endif %}
                                                </td>
                                                <td>
                                                    {% if cat.tags %}
                                                    {% for tag in cat.tags[:3] %}
                                                    <span class="badge bg-light text-dark me-1">{{ tag }}</span>
                                                    {% endfor %}
                                                    {% if cat.tags|length > 3 %}
                                                    <span class="text-muted small">+{{ cat.tags|length - 3 }} more</span>
                                                    {% endif %}
                                                    {% else %}
                                                    -
                                                    {% endif %}
                                                </td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Legal References Tab -->
            <div class="tab-pane fade" id="legal" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <h4 class="mb-4">Legal References & Citations</h4>
                        
                        {% set all_citations = [] %}
                        {% for cat in categories %}
                            {% if cat.citations %}
                                {% for citation in cat.citations %}
                                    {% set _ = all_citations.append({
                                        'category': cat.name,
                                        'regulation': citation.regulation,
                                        'article': citation.article,
                                        'description': citation.description if citation.description else ''
                                    }) %}
                                {% endfor %}
                            {% endif %}
                        {% endfor %}
                        
                        {% if all_citations %}
                        <div class="accordion" id="legalAccordion">
                            {% set regulations = {} %}
                            {% for citation in all_citations %}
                                {% if citation.regulation in regulations %}
                                    {% set _ = regulations[citation.regulation].append(citation) %}
                                {% else %}
                                    {% set _ = regulations.update({citation.regulation: [citation]}) %}
                                {% endif %}
                            {% endfor %}
                            
                            {% for regulation, citations in regulations.items() %}
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button {% if not loop.first %}collapsed{% endif %}" 
                                            type="button" data-bs-toggle="collapse" 
                                            data-bs-target="#collapse{{ loop.index }}" 
                                            aria-expanded="{% if loop.first %}true{% else %}false{% endif %}">
                                        <strong>{{ regulation }}</strong>
                                        <span class="badge bg-secondary ms-2">{{ citations|length }} citations</span>
                                    </button>
                                </h2>
                                <div id="collapse{{ loop.index }}" 
                                     class="accordion-collapse collapse {% if loop.first %}show{% endif %}" 
                                     data-bs-parent="#legalAccordion">
                                    <div class="accordion-body">
                                        {% for citation in citations %}
                                        <div class="card mb-3">
                                            <div class="card-body">
                                                <div class="d-flex justify-content-between align-items-start">
                                                    <div>
                                                        <h6 class="card-title">Article {{ citation.article }}</h6>
                                                        <p class="card-text">
                                                            <strong>Applies to:</strong> {{ citation.category }}
                                                        </p>
                                                        {% if citation.description %}
                                                        <p class="card-text text-muted">{{ citation.description }}</p>
                                                        {% endif %}
                                                    </div>
                                                    <span class="badge bg-primary">{{ regulation }}</span>
                                                </div>
                                            </div>
                                        </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        {% else %}
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle me-2"></i>
                            No legal citations available for this country/framework combination.
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Technical Data Tab -->
            <div class="tab-pane fade" id="technical" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h4>Technical Data</h4>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="copyJSON()">
                                    <i class="bi bi-clipboard me-1"></i>Copy JSON
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="downloadJSON()">
                                    <i class="bi bi-download me-1"></i>Download
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="formatJSON()">
                                    <i class="bi bi-code-slash me-1"></i>Format
                                </button>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h6 class="mb-0">Complete Data Structure</h6>
                                <small class="text-muted">JSON Format</small>
                            </div>
                            <div class="card-body p-0">
                                <pre class="mb-0"><code class="language-json" id="jsonData">{{ json_data }}</code></pre>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h6 class="mb-0">Schema Information</h6>
                                    </div>
                                    <div class="card-body">
                                        <dl class="row mb-0">
                                            <dt class="col-sm-6">Total Categories:</dt>
                                            <dd class="col-sm-6">{{ categories|length }}</dd>
                                            
                                            <dt class="col-sm-6">Data Size:</dt>
                                            <dd class="col-sm-6" id="dataSize">{{ (json_data|length / 1024)|round(2) }} KB</dd>
                                            
                                            <dt class="col-sm-6">Schema Version:</dt>
                                            <dd class="col-sm-6">{{ version if version else 'N/A' }}</dd>
                                            
                                            <dt class="col-sm-6">Format:</dt>
                                            <dd class="col-sm-6">JSON</dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h6 class="mb-0">API Endpoints</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label small">JSON Data:</label>
                                            <div class="input-group input-group-sm">
                                                <input type="text" class="form-control" value="../json/{{ framework.lower() }}/{{ country.lower().replace(' ', '-') }}.json" readonly>
                                                <button class="btn btn-outline-secondary" onclick="copyAPIUrl(this.previousElementSibling.value)">
                                                    <i class="bi bi-clipboard"></i>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-0">
                                            <label class="form-label small">Country Page:</label>
                                            <div class="input-group input-group-sm">
                                                <input type="text" class="form-control" value="{{ country.lower().replace(' ', '-') }}-{{ framework.lower().replace(' ', '-') }}.html" readonly>
                                                <button class="btn btn-outline-secondary" onclick="copyAPIUrl(this.previousElementSibling.value)">
                                                    <i class="bi bi-clipboard"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // Store the JSON data for manipulation
        const jsonData = {{ json_data|safe }};
        
        // Category filtering functionality
        document.addEventListener('DOMContentLoaded', function() {
            const categorySearch = document.getElementById('categorySearch');
            const typeFilter = document.getElementById('typeFilter');
            const maskingFilter = document.getElementById('maskingFilter');
            const categoryItems = document.querySelectorAll('.category-item');
            
            function filterCategories() {
                const searchTerm = categorySearch.value.toLowerCase();
                const typeValue = typeFilter.value;
                const maskingValue = maskingFilter.value;
                
                categoryItems.forEach(item => {
                    const name = item.querySelector('.card-title, .fw-semibold')?.textContent.toLowerCase() || '';
                    const type = item.dataset.type;
                    const masking = item.dataset.masking;
                    
                    const matchesSearch = !searchTerm || name.includes(searchTerm);
                    const matchesType = !typeValue || type === typeValue;
                    const matchesMasking = !maskingValue || masking === maskingValue;
                    
                    item.style.display = matchesSearch && matchesType && matchesMasking ? '' : 'none';
                });
            }
            
            categorySearch?.addEventListener('input', filterCategories);
            typeFilter?.addEventListener('change', filterCategories);
            maskingFilter?.addEventListener('change', filterCategories);
            
            // View mode toggle
            document.querySelectorAll('input[name="categoryView"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const cardView = document.getElementById('cardView');
                    const tableView = document.getElementById('tableView');
                    
                    if (this.id === 'categoryCards') {
                        cardView.style.display = '';
                        tableView.style.display = 'none';
                    } else {
                        cardView.style.display = 'none';
                        tableView.style.display = '';
                    }
                });
            });
        });
        
        // Utility functions
        function copyPageUrl() {
            navigator.clipboard.writeText(window.location.href);
            showToast('Page URL copied to clipboard');
        }
        
        function downloadJSON() {
            const blob = new Blob([JSON.stringify(jsonData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = '{{ country.lower().replace(" ", "-") }}-{{ framework.lower().replace(" ", "-") }}.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showToast('JSON file downloaded');
        }
        
        function copyJSON() {
            navigator.clipboard.writeText(JSON.stringify(jsonData, null, 2));
            showToast('JSON data copied to clipboard');
        }
        
        function formatJSON() {
            const jsonElement = document.getElementById('jsonData');
            jsonElement.textContent = JSON.stringify(jsonData, null, 2);
            Prism.highlightElement(jsonElement);
        }
        
        function copyAPIUrl(url) {
            navigator.clipboard.writeText(url);
            showToast('URL copied to clipboard');
        }
        
        function showToast(message) {
            // Simple toast notification
            const toast = document.createElement('div');
            toast.className = 'position-fixed top-0 end-0 p-3';
            toast.style.zIndex = '1100';
            toast.innerHTML = `
                <div class="toast show" role="alert">
                    <div class="toast-header">
                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                        <strong class="me-auto">Success</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
                    </div>
                    <div class="toast-body">${message}</div>
                </div>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                document.body.removeChild(toast);
            }, 3000);
        }
    </script>
</body>
</html>
